<div class="max-w-5xl mx-auto py-16 px-6">

  <h1 class="text-4xl font-semibold mb-8 tracking-tight text-pink-300">
    Your NookyUp Dashboard
  </h1>

  <p class="text-lg text-slate-400 mb-12">
    Manage your ads, drafts, and activity.
  </p>

  <!-- Stats -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-14">
    <div 
      class="
        nookyup-hover
        p-6 rounded-2xl
        bg-slate-900/40 border border-slate-800/60 backdrop-blur-xl
        text-slate-200
        transition-all duration-500
        hover:scale-[1.05]
        hover:border-pink-500/70
        hover:shadow-[0_0_35px_rgba(236,72,153,0.6)]
      "
    >
      <p class="text-sm text-slate-400 mb-1">Live ads</p>
      <p class="text-3xl font-semibold"><%= stats.live || 0 %></p>
    </div>

    <div 
      class="
        nookyup-hover
        p-6 rounded-2xl
        bg-slate-900/40 border border-slate-800/60 backdrop-blur-xl
        text-slate-200
        transition-all duration-500
        hover:scale-[1.05]
        hover:border-pink-500/70
        hover:shadow-[0_0_35px_rgba(236,72,153,0.6)]
      "
    >
      <p class="text-sm text-slate-400 mb-1">Drafts</p>
      <p class="text-3xl font-semibold"><%= stats.drafts || 0 %></p>
    </div>

    <div 
      class="
        nookyup-hover
        p-6 rounded-2xl
        bg-slate-900/40 border border-slate-800/60 backdrop-blur-xl
        text-slate-200
        transition-all duration-500
        hover:scale-[1.05]
        hover:border-pink-500/70
        hover:shadow-[0_0_35px_rgba(236,72,153,0.6)]
      "
    >
      <p class="text-sm text-slate-400 mb-1">Pending review</p>
      <p class="text-3xl font-semibold"><%= stats.pending || 0 %></p>
    </div>
  </div>

  <!-- Header + Create Button -->
  <div class="flex justify-between items-center mb-8">
    <h2 class="text-2xl font-medium text-pink-300 tracking-wide">Your ads</h2>

    <a 
      href="/start" 
      class="
        nookyup-hover
        text-lg px-4 py-2 rounded-lg
        text-pink-300 border border-pink-500/40
        bg-slate-900/40 backdrop-blur-xl
        transition-all duration-500
        hover:scale-[1.05]
        hover:border-pink-500/80
        hover:text-pink-200
        hover:shadow-[0_0_25px_rgba(236,72,153,0.5)]
      "
    >
      + Post a new ad
    </a>
  </div>

  <!-- No Ads -->
  <% if (!ads || ads.length === 0) { %>
    <p class="text-slate-400 text-lg">You haven’t posted any ads yet.</p>

  <% } else { %>

    <!-- Ads List -->
    <div class="flex flex-col gap-6">
      <% ads.forEach(ad => { %>
        <div 
          class="
            nookyup-hover
            p-6 rounded-xl
            bg-slate-900/30 border border-slate-800/60 backdrop-blur-xl
            text-slate-200 flex flex-col gap-3

            transition-all duration-500
            hover:scale-[1.03]
            hover:bg-gradient-to-r
            hover:from-pink-600/20
            hover:via-fuchsia-500/10
            hover:to-purple-600/20
            hover:shadow-[0_0_45px_rgba(236,72,153,0.7)]
            hover:border-pink-500/70
          "
        >
          <div class="flex justify-between items-center">
            <h3 class="text-xl font-semibold tracking-wide"><%= ad.title %></h3>

            <span 
              class="
                text-xs uppercase tracking-wide px-2 py-1 rounded-full
                <% if (ad.status === 'approved') { %> bg-green-900/40 text-green-300 border border-green-700 <% } %>
                <% if (ad.status === 'draft') { %> bg-slate-800/60 text-slate-300 border border-slate-700 <% } %>
                <% if (ad.status === 'pending') { %> bg-yellow-900/40 text-yellow-300 border border-yellow-700 <% } %>
              "
            >
              <%= ad.status %>
            </span>
          </div>

          <p class="text-sm text-slate-400">
            <%= ad.city_name %> · <%= ad.category_name %>
            <% if (ad.subcategory_name) { %> / <%= ad.subcategory_name %> <% } %>
          </p>

          <p class="text-slate-300 line-clamp-2"><%= ad.body %></p>

          <div class="flex gap-6 mt-3 text-sm">

            <a 
              href="<%= ad.publicUrl %>" 
              class="text-pink-300 hover:text-pink-200 transition"
            >
              View
            </a>

            <a 
              href="<%= ad.editUrl %>" 
              class="text-slate-400 hover:text-slate-200 transition"
            >
              Edit
            </a>

            <% if (ad.status === 'draft') { %>
              <form method="POST" action="<%= ad.submitUrl %>" class="inline">
                <button 
                  class="text-slate-400 hover:text-slate-200 transition" 
                  type="submit"
                >
                  Submit for review
                </button>
              </form>
            <% } %>

          </div>
        </div>
      <% }) %>
    </div>

  <% } %>

</div>

